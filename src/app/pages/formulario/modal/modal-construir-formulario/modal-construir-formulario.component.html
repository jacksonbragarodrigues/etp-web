<ng-template #modalConstruirFormularioComponent class="modal modal-xl fade">
  <div class="modal-header">
    <span
      >Gestão de Modelo - {{ formulario.descricao }} Versão:
      {{ formulario.versao }} - Situação:
      {{ formulario.situacao.descricao }}</span
    >
  </div>

  <!-- <div class="card"> -->
    <p-menubar [model]="items"></p-menubar>
  <!-- </div> -->

  <div class="modal-body" style="margin-top: 0px; padding-top: 0px">
    <div class="row mt-1">
      <div id="conteudoMenu" class="col-12 py-1 ps-1 pe-1 border shadow">
        <div *ngIf="menuIndex == 0">

          <app-form-builder class="host-builder" [formJson]="formRender" [dataJson]="formulario.jsonDados" [ioEnabled]="builderIoEnabled"></app-form-builder>

          <!-- <form-builder
            class="always-show-menu"
            id="construtor"
            [options]="options"
            (change)="onChangeBuilder($event)"
            [form]="form"
          ></form-builder> -->
        </div>

        <div [hidden]="menuIndex != 1">
            <app-form-builder class="host-builder" [formJson]="formRender" [dataJson]="formulario.jsonDados" [ioEnabled]="builderIoEnabled"></app-form-builder>
          <!-- <formio id="rendererizador"></formio> -->

        </div>
        <div *ngIf="menuIndex == 2">
          <app-template-html
            [idForm]="this.formulario.id"
            [jsonForm]="this.formulario.jsonForm"
            [descricao]="this.formulario.descricao"
            [jsonDados]="this.formulario.jsonDados"
            [type]="'FORMULARIO'"
            [nomeRelatorio]="nomeArquivo"
            (fecharModal)="close()"
          ></app-template-html>
        </div>
        <div *ngIf="menuIndex == 3">
          <app-comparar-html
            [idFormulario]="this.formulario.id"
          ></app-comparar-html>
        </div>
        <div *ngIf="menuIndex == 4">
          <app-template-html
            [idForm]="this.formulario.id"
            [jsonForm]="this.formulario.jsonForm"
            [descricao]="this.formulario.descricao"
            [jsonDados]="this.formulario.jsonDados"
            [type]="'FORMULARIO_COMPLETO'"
            [nomeRelatorio]="nomeArquivo"
            (fecharModal)="close()"
          ></app-template-html>
        </div>
        <div *ngIf="false">
          <app-envio-sei
            [situacao]="this.formulario.situacao"
            [id]="this.formulario.id"
            [tipo]="'FORMULARIO'"
            [closePai]="close.bind(this)"
          ></app-envio-sei>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="modal-footer botoes" *ngIf="parametros.renderizarFooter">
    <div class="row botoes" style="width: 50%">
      <div class="col">
        <button
          noDoubleClick
          [disabled]="isBuilderDisabled"
          (click)="preSaveRender()"
          type="button"
          class="w-100 success-btn-color btn btn-success"
          type="submit"
        >
          <em class="fa fa-lg fa-check float-center pt-1"></em> Gravar
        </button>
      </div>
      <div class="col">
        <button
          noDoubleClick
          (click)="close()"
          type="button"
          class="w-100 btn btn-danger"
          data-bs-dismiss="modal"
        >
          <em class="fa fa-lg fa-minus-circle float-center pt-1"></em>
          Fechar
        </button>
      </div>
      <div class="botao-undo" *ngIf="undoManager.isDesfazer()">
        <button
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Desfazer a última exclusão."
          noDoubleClick
          (click)="undo()"
          type="button"
          class="w-30 btn btn-warning"
          data-bs-dismiss="modal"
        >
          <em
            tooltip="Desfazer"
            class="fa fa-fw fa-undo float-center pt-1"
          ></em>
        </button>
      </div>
    </div>
  </div> -->
</ng-template>
<app-versionar-formulario
  [executaVersionarFormularioGestao]="executaVersionar.bind(this)"
  #versionar_formulario
></app-versionar-formulario>
<modal-versoes-formulario
  [desabilitarCampos]="true"
  #versoes_formulario
  (construirFormulario)="construirformulario($event)"
>
</modal-versoes-formulario>
<app-envio-sei
  #enviar_sei
  [situacao]="this.formulario?.situacao"
  [id]="this.formulario?.id"
  [tipo]="'FORMULARIO'"
>
</app-envio-sei>
<app-delegar-acesso #delegar_acesso> </app-delegar-acesso>

<ng-template #registrarSeiModalForm class="modal modal-xl fade">
    <div class="modal-header">
      <h5 class="modal-title">Inserir link do Sistema SEI</h5>
    </div>

    <div class="modal-body">
      <div class="form-group">
        <label for="documento">Protocolo no Sistema SEI:</label>
        <input [(ngModel)]="documentoForm" type="text" size="10" id="documento"
          class="form-control" />
      </div>
    </div>

      <div class="modal-footer">
        <button (click)="registrarEnvioseiEtpFormModalConstruirFormulario()" title="Enviar Link SEI para documento" type="button"
          class="btn btn-success btn-size" style="color: white">
          <em _ngcontent-cfm-c345="" class="fas fa-arrow-down float-center icons-btn icons-btn"></em>Transferir
        </button>
        <button (click)="closeRegistrarFormModalConstruirFormulario()" title="Sair" type="button" class="btn btn-danger btn-size"
          style="color: white">
          <em _ngcontent-cfm-c345="" class="fas fa-minus-circle float-center icons-btn icons-btn"></em>Cancelar
        </button>
      </div>
</ng-template>


<ng-template #registrarLinkCustomModalForm class="modal modal-xl fade" >
    <div class="modal-header">
      <h5 class="modal-title">Inserir Link</h5>
    </div>

    <div class="modal-body">
      <div class="form-group">
        <label for="linkUrl">Link:</label>
        <input [(ngModel)]="linkCustomForm" type="text" id="linkUrl" name="linkUrl" class="form-control" />
      </div>
      <div class="form-group">
        <label for="linkUrl">Exibir Texto:</label>
        <input [(ngModel)]="textoLinkCustomForm" type="text" id="texto" name="texto" class="form-control" />
      </div>
    </div>

    <div class="modal-footer">

      <button (click)="registrarLinkCustomFormModalConstruirFormulario()" title="Enviar Link para documento" type="button"
        class="btn btn-success btn-size" style="color: white">
        <em _ngcontent-cfm-c345="" class="fas fa-arrow-down float-center icons-btn icons-btn"></em>Transferir
      </button>
      <button (click)="closeRegistrarLinkCustom()" title="Sair" type="button" class="btn btn-danger btn-size"
        style="color: white">
        <em _ngcontent-cfm-c345="" class="fas fa-minus-circle float-center icons-btn icons-btn"></em>Cancelar
      </button>

    </div>
</ng-template>
